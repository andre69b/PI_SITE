@model LogicLibrary.RealEstateLogic

@{
    ViewBag.Title = "Index";
}

@section Head{
    <link href="../../Content/Mycss/carouselHome.css" rel="stylesheet">
}

@{
    var s = Model.GetAllJson();
}
<p id="escondido" hidden>@s</p>
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>

<!-- Carousel
================================================== -->
<div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        <div class="item active">
            <img data-src="holder.js/900x500/auto/#777:#7a7a7a/text:First slide" alt="First slide">
            <div class="container">
                <div class="carousel-caption">
                    <h4>Castelo louco</h4>
                    <p><a href="~/Destination/1"><img src="../../Images/11584962.jpg" href="#coisa" height="200" width="350"></a></p>
                    <h3>300€</h3>
                </div>
            </div>
        </div>
        <div class="item">
            <img data-src="holder.js/900x500/auto/#666:#6a6a6a/text:Second slide" alt="Second slide">
            <div class="container">
                <div class="carousel-caption">
                    <h4>Casota</h4>
                    <p><a href="~/Destination/3"><img src="../../Images/18805413.jpg" href="#coisa" height="200" width="350"></a></p>
                    <h3>150€</h3>
                </div>
            </div>
        </div>
        <div class="item">
            <img data-src="holder.js/900x500/auto/#555:#5a5a5a/text:Third slide" alt="Third slide">
            <div class="container">
                <div class="carousel-caption">
                    <h4>Casa Perfeita</h4>
                    <p><a href="~/Destination/4"><img src="../../Images/11829213.jpg" href="#coisa" height="200" width="350"></a></p>
                    <h3>500€</h3>
                </div>
            </div>
        </div>
    </div>
    <a class="left carousel-control" href="#myCarousel" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a>
</div>



<!-- Marketing messaging and featurettes
================================================== -->

<div class="container">
    <div class="row">
        <div class="col-md-3">
            <div class="panel panel-danger" id="left">
                <div class="panel-body">
                    <div class="form_layout">
                        <h3>Search</h3>
                        <form class="navbar-form navbar-left" action="Search">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Name" id="Name" name="Name">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Location" id="Location" name="Location">
                            </div>
                            <div class="form-group">
                                <input type="number" class="form-control" placeholder="Price Min." id="PriceMin" name="PriceMin">
                            </div>
                            <div class="form-group">
                                <input type="number" class="form-control" placeholder="Price Max." id="PriceMax" name="PriceMax">
                            </div>
                            <div class="form-group">
                                <input type="date" class="form-control" placeholder="CheckIn" id="CheckIn" name="CheckIn">
                            </div>
                            <div class="form-group">
                                <input type="date" class="form-control" placeholder="Check-Out" id="CheckOut" name="CheckOut">
                            </div>
                            <div class="form-group">
                                <input type="int" class="form-control" placeholder="Capacity" id="Capacity" name="Capacity">
                            </div>
                            <button type="submit" class="btn btn-default">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3">
        </div>
        <div class="col-md-6">
            <div id="map-canvas-principal"></div>
        </div>
    </div>

</div>

<script>
    var map;
    var s = JSON.parse(document.getElementById("escondido").textContent);
    function initialize() {
        var mapOptions = {
            zoom: 5,
            center: new google.maps.LatLng(37.752071, -12.183052),
            mapTypeId: google.maps.MapTypeId.SATELLITE
        };
        map = new google.maps.Map(document.getElementById('map-canvas-principal'),
            mapOptions);
        for (var i = 0; i < s.length; i += 3) {
            var markerOptions = {
                position: new google.maps.LatLng(s[i+1], s[i + 2]),
                title: s[i],
                animation: google.maps.Animation.DROP,
                Map: map
            };
            new google.maps.Marker(markerOptions);
        }
    }

    google.maps.event.addDomListener(window, 'load', initialize);
</script>
